<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta id="MetaDescription" name="description" content="<%=description%>">
  <meta id="MetaKeywords" name="keywords" content="<%=keywords%>">
  <meta id="MetaAuthor" name="author" content="<%=author%>">
  <meta name="RESOURCE-TYPE" content="DOCUMENT" />
  <meta name="DISTRIBUTION" content="GLOBAL" />
  <meta id="MetaRobots" name="ROBOTS" content="INDEX, FOLLOW" />
  <meta id="MetaGenerator" name="GENERATOR" content="JavaXT" />
  <meta id="MetaCopyright" name="COPYRIGHT" content="<%=copyright%>, <%=author%>" />

  <title><%=title%></title>
  <link rel="stylesheet" type="text/css" href="/style/template.css" />
  <link rel="icon" type="image/vnd.microsoft.icon" href="/favicon.ico" />


<!-- Directives for Mobile -->
<!--<link rel="manifest" href="manifest.json" />-->
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />


<!-- Javascript Includes -->
<script type="text/javascript" src="/javascript/javaxt/javaxt-webcontrols.js"></script>
<script type="text/javascript" src="/javascript/javaxt/javaxt-express.js"></script>


</head>
<body>

<table class="outerDiv">
  <tr>
    <td style="vertical-align:top; height:100%">


      <div class="mainDiv">
        <table style="width:100%; height:100%;">
          <tr>
            <td>


              <a href="/">
                <div class="header">
                    Express CMS Demo
                </div>
              </a>


                <div class="tabbar">
                  <div class="tabs">
                    <%=tabs%>
                  </div>
                </div>


                <div class="navbar"></div>

            </td>
          </tr>
          <tr>
            <td class="content">
              <div style="height:100%">
                <%=content%>
              </div>
            </td>
          </tr>
        </table>
      </div>


    </td>
  </tr>
  <tr>
    <td>
      <div class="footer">
        <div class="copyright">Copyright &copy; 2010</div>
      </div>
    </td>
  </tr>
</table>





<script type="text/javascript">

  //If javascript is enabled, replace content node with a carousel control
    var init = function() {


      //Get content node
        var content;
        var nodes = document.getElementsByTagName("td");
        for (var i=0; i<nodes.length; i++){
            var node = nodes[i];
            if (node.className=="content"){
              //Found the content node! However, the height of the "content"
              //node will be updated by the carousel which may conflict with
              //the CSS rules for the "content" node. As a workaround, we'll
              //wrap the content in a div and passing the wrapper div to the
              //constructor.
                for (var j=0; j<node.childNodes.length; j++){
                    if (node.childNodes[j].nodeType==1){
                        content = node.childNodes[j];
                        break;
                    }
                }

                break;
            }
        }


      //Get tabs and navbar
        var tabs = [];
        var navbar;
        var nodes = document.getElementsByTagName("div");
        for (var i=0; i<nodes.length; i++){
            var node = nodes[i];
            if (node.className=="tabs"){
                tabs = node.getElementsByTagName("a");
            }
            else if (node.className=="navbar"){
                navbar = node;
            }
        }


      //Instantiate website component
        document.website = new javaxt.express.WebSite(content, {
            tabs: tabs
        });



      //Delete this script after its beeen loaded
        if (window.removeEventListener) {
            window.removeEventListener("load", init);
        }
        else if (window.detachEvent) { // For IE 8 and earlier versions
            window.detachEvent("onload", init);
        }
        init = null;
    };


  //Call init script when ready
    if (window.addEventListener) {
        window.addEventListener("load", init);
    }
    else if (window.attachEvent) { // For IE 8 and earlier versions
        window.attachEvent("onload", init);
    }
</script>

</body>
</html>